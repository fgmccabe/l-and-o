/*
 * test the type constructor form of a type definition
 */

tree{
  all T ~~ tree[T] <~ thing.

  em: tree[_].
  em..{
  }.

  nd: all T ~~ (tree[T],T,tree[T])<=>tree[T].
  nd(L,B,R)..{
    private label : ()=>T.
    label()=>B.
  }.

  walk: all t ~~ (tree[t])=>list[t].
  walk(nd(L,B,R)) => walk(L)<>[B]<>walk(R).
  walk(em) => [].

  (<>): all t ~~ (list[t],list[t])=>list[t].
  []<>X=>X.
  [E,..X]<>Y=>[E,..X<>Y].
}