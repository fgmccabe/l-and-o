utest {
  import lo.
  import lo.uri.

--  show formatSS(uriDisp.display(U)) ::- parseUri(U) %% explode("www.example.com").
--  show formatSS(uriDisp.display(V)) ::- parseUri(V) %% explode("http://www.example.com").
--  show formatSS(uriDisp.display(W)) ::- parseUri(W) %% explode("ftp://www.example.com/foo/bar?help").

  parse:(string)=>uri.
  parse(S) =>  U :- parseUri(U) %% explode(S).

  show base.
--  show formatSS(uriDisp.display(base)).

  base:uri.
  base = parse("file://Foo/bar/").

  relU:uri.
  relU = parse("alpha/beta").

  res:uri.
  res = resolveUri(base,relU).

  show res.

  main:(list[string]+){}.
  main(Strs) :-
    parseArgs(Strs).

  parseArgs:(list[string]+){}.
  parseArgs([]).
  parseArgs([S,..M]) :-
    parseUri(U) %% explode(S),
    _display((0,0,0),formatSS(uriDisp.display(U)))!,
    parseArgs(M).
}
